<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>공릉동 네모하우스 호실 현황</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        .contact-info {
            color: #666;
            font-size: 18px;
        }
        .building { 
            display: flex; 
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .floor { 
            display: flex; 
            justify-content: space-around; 
            margin: 10px; 
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f8f8f8;
        }
        .room-container {
            width: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 10px;
        }
        .room {
            width: 150px;
            height: 100px;
            border: 2px solid #000;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .room:hover {
            transform: scale(1.05);
        }
        .room.occupied { 
            background-color: #90EE90;
            border-color: #2E8B57;
        }
        .room.vacant { 
            background-color: #FF6347;
            border-color: #8B0000;
        }
        .room.expiring { 
            background-color: #FFD700;
            border-color: #DAA520;
        }
        .room-header {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .contract-period {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
        }
        .date-group {
            display: flex;
            gap: 2px;
        }
        select {
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 2px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>공릉동 네모하우스 호실 현황</h1>
        <div class="contact-info">연락처: 010-9870-6347</div>
    </div>
    <div class="building">
        <!-- 층별 템플릿 생성을 위한 JavaScript -->
    </div>

    <script>
        const currentYear = new Date().getFullYear();
        const yearRange = Array.from({length: 10}, (_, i) => currentYear + i);
        const months = Array.from({length: 12}, (_, i) => i + 1);
        const days = Array.from({length: 31}, (_, i) => i + 1);

        const statusStates = ['vacant', 'occupied', 'expiring'];
        const statusTexts = {
            'vacant': '공실',
            'occupied': '계약중',
            'expiring': '만료예정'
        };

        const floors = [
            { name: '3층', rooms: ['301', '302', '303', '304'] },
            { name: '2층', rooms: ['201', '202', '203', '204'] },
            { name: '1층', rooms: ['101', '102', '103', '104'] },
            { name: '지하1층', rooms: ['B01', 'B02', 'B03', 'B04'] }
        ];

        function createDateSelectors(prefix) {
            return `
                <div class="date-group">
                    <select class="${prefix}-year">
                        <option value="">년</option>
                        ${yearRange.map(year => `<option value="${year}">${year}</option>`).join('')}
                    </select>
                    <select class="${prefix}-month">
                        <option value="">월</option>
                        ${months.map(month => `<option value="${month}">${month}</option>`).join('')}
                    </select>
                    <select class="${prefix}-day">
                        <option value="">일</option>
                        ${days.map(day => `<option value="${day}">${day}</option>`).join('')}
                    </select>
                </div>`;
        }

        const buildingDiv = document.querySelector('.building');
        floors.forEach(floor => {
            const floorHTML = `
                <div class="floor" data-floor="${floor.name}">
                    ${floor.rooms.map(roomNumber => `
                        <div class="room-container">
                            <div class="room vacant" data-room="${roomNumber}" data-status="vacant">
                                <div class="room-header">${roomNumber}호</div>
                                <div class="status-text">공실</div>
                            </div>
                            <div class="contract-period">
                                <label>계약시작일</label>
                                ${createDateSelectors('start')}
                                <label>계약종료일</label>
                                ${createDateSelectors('end')}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            buildingDiv.innerHTML += floorHTML;
        });

        // 호실 클릭 이벤트
        document.querySelectorAll('.room').forEach(room => {
            room.addEventListener('click', function(e) {
                const currentStatus = this.dataset.status;
                const currentIndex = statusStates.indexOf(currentStatus);
                const nextIndex = (currentIndex + 1) % statusStates.length;
                const nextStatus = statusStates[nextIndex];
                
                // 상태 및 클래스 변경
                this.dataset.status = nextStatus;
                this.className = `room ${nextStatus}`;
                this.querySelector('.status-text').textContent = statusTexts[nextStatus];
                
                // 정보 표시
                const container = this.closest('.room-container');
                const startYear = container.querySelector('.start-year').value || '미입력';
                const startMonth = container.querySelector('.start-month').value || '';
                const startDay = container.querySelector('.start-day').value || '';
                const endYear = container.querySelector('.end-year').value || '미입력';
                const endMonth = container.querySelector('.end-month').value || '';
                const endDay = container.querySelector('.end-day').value || '';
                
                const startDate = startYear !== '미입력' ? `${startYear}년 ${startMonth}월 ${startDay}일` : '미입력';
                const endDate = endYear !== '미입력' ? `${endYear}년 ${endMonth}월 ${endDay}일` : '미입력';

                alert(
                    `호실: ${this.dataset.room}\n` +
                    `상태: ${statusTexts[nextStatus]}\n` +
                    `계약시작일: ${startDate}\n` +
                    `계약종료일: ${endDate}`
                );
            });
        });
    </script>
</body>
</html>
